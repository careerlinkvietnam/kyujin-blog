# 記事バージョン管理マニュアル

## 概要

リライト時に古い記事を保存し、必要に応じて復元できるようにするためのバージョン管理システムです。

---

## フォルダ構造

```
backups/
├── バージョン管理マニュアル.md（このファイル）
├── バージョン履歴.md（全記事の変更履歴）
└── articles/
    ├── [slug]_v1_[日付].md
    ├── [slug]_v2_[日付].md
    └── ...
```

---

## 命名規則

### バックアップファイル名
```
[スラッグ]_v[バージョン番号]_[日付].md
```

**例：**
- `thailand-job-complete-guide_v1_2026-01-17.md` - 初版
- `thailand-job-complete-guide_v2_2026-01-20.md` - リライト後

### バージョン番号
- v1: 初版（最初の投稿）
- v2以降: リライト版

---

## リライト手順

### 1. 現在の記事をバックアップ

```bash
# WordPress APIから現在の記事を取得
curl -s "https://kyujin.careerlink.asia/blog/wp-json/wp/v2/posts/[記事ID]" \
  -u "careerlinkasia:[password]" > backups/articles/[slug]_v[n]_[日付].md
```

### 2. バージョン履歴に記録

`backups/バージョン履歴.md` に変更内容を記録

### 3. リライト記事を投稿

PUT メソッドで記事を更新

### 4. 確認

投稿後、URLにアクセスして確認

---

## 復元手順

### 古いバージョンに戻す場合

1. `backups/articles/` から該当バージョンのファイルを取得
2. WordPressにPUTで上書き投稿
3. バージョン履歴に復元を記録

---

## バージョン履歴の書き方

```markdown
## [記事スラッグ]

### v1 (2026-01-17)
- 初版投稿
- 担当: AI

### v2 (2026-01-20)
- リライト理由: 検索順位が低い、CTRが低い
- 変更点:
  - タイトルを変更
  - 見出し構成を改善
  - 内部リンクを追加
- 担当: AI
```

---

## 注意事項

1. **リライト前に必ず `リライトマニュアル.md` を読む**（最重要）
2. **リライト前に必ずバックアップを取る**
3. **バージョン履歴は必ず更新する**
4. **大きな変更の場合は事前に確認を取る**

---

## 関連ドキュメント

- **リライトマニュアル.md** - リライト作業前に必ず読むこと（プロジェクトルート）

---

*作成日: 2026-01-17*
